[p4est]
min_quadrants = -1
min_level = 0
fill_uniform = 1

[ip_flux_params]
name = kronbichler
ip_flux_penalty_prefactor = 2.0
ip_flux_bc_eval = BC_EVAL_ON_LOBATTO_POINTS
ip_flux_h_calc = H_EQ_J_DIV_SJ_MIN
ip_flux_penalty_calculate_fcn = meanp_sqr_over_meanh

[problem]
num_unifrefs = 0
deg_R2= 8
deg_quad_R2= 8
deg_stiffness_R2= 8
deg_R1  = 8
deg_quad_R1  = 8
deg_stiffness_R1  = 8
deg_R0= 8
deg_quad_R0= 8
deg_stiffness_R0= 8
rhs_compute_method = COMPUTE_RHS_ON_LOBATTO

[geometry]
; name = cubed_sphere_inner_shell_block
; name = cubed_sphere_outer_shell_block
name = cubed_sphere_innerouter_shell
; name = cubed_sphere_with_cube_hole
R0 = 4
R1 = 4.5
R2 = 100000000000
DX_compute_method = analytic
; JAC_compute_method = analytic
JAC_compute_method = numerical
compactify_outer_shell = 1
compactify_inner_shell = 0

[krylov_petsc]
ksp_type = cg
ksp_atol = 1e-15
ksp_rtol = 1e-50
ksp_max_it = 10000
ksp_view = 1
ksp_monitor = 1
ksp_converged_reason = 1
ksp_initial_guess_nonzero = 0
ksp_monitor_singular_value = 1

[d4est_cg]
iter = 100000
monitor = 1
rtol = 1e-20
atol = 1e-20

[d4est_vtk_geometry]
; name = cubed_sphere_inner_shell_block
; name = cubed_sphere_outer_shell_block
name = cubed_sphere_innerouter_shell
; name = cubed_sphere_with_cube_hole
R0 = 1
R1 = 2
R2 = 10
DX_compute_method = analytic
; JAC_compute_method = analytic
JAC_compute_method = numerical
compactify_outer_shell = 1
compactify_inner_shell = 0
